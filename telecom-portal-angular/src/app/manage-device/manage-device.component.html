
<table id="deviceTable">
    <tr>
        <th>Phone Number</th>
        <th>Device Name</th>
        <th>Device Description</th>
        <th>Plan</th>
    </tr>
    <tr *ngFor="let device of devices">
        <td>{{ device.phoneNumber }}</td>
        <td>{{ device.deviceName }}</td>
        <td>{{ device.deviceDescription }}</td>
        <td>{{ device.plan.planDescription }}</td>
        <td><button (click)="deleteDevice(device.phoneNumber)">Delete</button> </td>

        <td><button class="btn btn-lg btn-outline-primary" (click)="open(content, device)">Update</button></td>
        <ng-template #content let-modal>
          <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Device Update</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
                <div class="input-group">
                <div class="dropdown">
                    Data Plan:
                    <!-- <input type="drop" [(ngModel)]="device.plan.planDescription" name=device.plan.planDescription/> -->
                    <div ngbDropdown class="d-inline-block">
                      <button class="btn btn-outline-primary" id="dropdownBasic1" ngbDropdownToggle>{{ tempDevice.plan.planDescription }}</button>
                      <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                        <button ngbDropdownItem (click)="tempDevice.plan = planService.getPlan()">{{ planService.getPlan().planDescription }}</button>
                        <button ngbDropdownItem (click)="tempDevice.plan = planService.getPlan1()">{{ planService.getPlan1().planDescription }}</button>
                        <button ngbDropdownItem (click)="tempDevice.plan = planService.getPlan2()">{{ planService.getPlan2().planDescription }}</button>
                      </div>
                    </div>
                </div>
                <div>
                    Device Name:
                    <input type="text" [(ngModel)]="tempDevice.deviceName" name=tempDevice.deviceName/>
                </div>
                <div>
                    Device Description:
                    <input type="text" [(ngModel)]="tempDevice.deviceDescription" name=tempDevice.deviceDescription/>
                </div>
                <div>
                    <input type="submit"/>
                </div>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
          </div>
        </ng-template>
    </tr>
</table>

<ngb-alert #selfClosingAlert *ngIf="errorMessage" type="danger" (closed)=" errorMessage = ''">{{ errorMessage }}
</ngb-alert>
<p>

